<!DOCTYPE html>
<html lang="id">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi Karya Siswa SMK YAPPI Wonosari</title>

  <style>
    :root {
      --primary: #14532d;
      --primary-light: #1e8144;
      --bg: #f4f6f5;
      --text: #222;
      --card-bg: #ffffff;
      --border: #ddd;
      --muted: #666;
      --radius: 8px;
    }

    /* Dark Mode Theme Variables */
    body.dark {
      --bg: #111;
      --text: #eaeaea;
      --card-bg: #1a1a1a;
      --border: #333;
      --muted: #999;
    }

    * { box-sizing: border-box; }
    html,body { height: 100%; }

    body {
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .wrapper {
      background: var(--card-bg);
      padding: 26px;
      border-radius: 12px;
      width: 100%;
      max-width: 520px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.08);
      border: 1px solid var(--border);
      animation: fadeIn 0.45s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .logo {
      display: block;
      margin: 0 auto 12px auto;
      max-width: 110px;
    }

    h1 {
      font-size: 20px;
      font-weight: 600;
      text-align: center;
      margin: 6px 0 18px 0;
    }

    .menu {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 10px;
    }

    .menu-item {
      position: relative;
      border-radius: var(--radius);
      overflow: visible;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    }

    .menu-button {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      width: 100%;
      padding: 12px 14px;
      text-decoration: none;
      color: var(--text);
      background: transparent;
      font-size: 15px;
      cursor: pointer;
      border: none;
      outline: none;
    }

    .menu-button .left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .menu-button .icon {
      width: 36px;
      height: 36px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      background: var(--primary);
      color: #fff;
      font-size: 16px;
      flex-shrink: 0;
    }

    .menu-button .title {
      font-weight: 600;
    }

    .menu-button .subtitle {
      display: block;
      font-size: 12px;
      color: var(--muted);
    }

    .chev {
      font-size: 16px;
      color: var(--muted);
      transition: transform .18s ease;
    }

    /* Submenu */
    .submenu {
      max-height: 0;
      overflow: hidden;
      transition: max-height .28s ease, padding .18s ease;
      padding: 0 12px;
      background: transparent;
      border-top: 1px solid var(--border);
    }

    .submenu.open {
      padding: 10px 12px 12px 12px;
    }

    .submenu-list {
      display: grid;
      gap: 8px;
      margin: 0;
      padding: 0;
      list-style: none;
    }

    .submenu-list a {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      text-decoration: none;
      color: var(--text);
      border-radius: 8px;
      background: rgba(0,0,0,0.01);
      font-size: 14px;
      transition: background .15s, transform .12s;
    }

    .submenu-list a:hover {
      background: rgba(0,0,0,0.04);
      transform: translateY(-2px);
    }

    /* Expand icon rotate when open */
    .menu-item.open .chev { transform: rotate(90deg); color: var(--primary); }

    /* footer and small links */
    .footer {
      margin-top: 16px;
      font-size: 13px;
      text-align: center;
      color: var(--muted);
    }

    .footer a { color: var(--primary); text-decoration: none; font-weight: 600; }

    /* Theme toggle */
    .theme-toggle {
      position: fixed;
      top: 14px;
      right: 14px;
      background: var(--card-bg);
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: transform .12s, opacity .12s;
      z-index: 40;
    }

    .theme-toggle:hover { transform: scale(1.03); opacity: .95; }

    /* Responsive */
    @media (max-width: 520px) {
      .wrapper { padding: 18px; margin: 12px; }
      .logo { max-width: 90px; }
    }
  </style>
</head>
<body>

<button class="theme-toggle" onclick="toggleTheme()" aria-pressed="false">üåì Mode</button>

<div class="wrapper" role="main">
  <img src="logoyappi.png" alt="Logo YAPPI" class="logo" onerror="this.style.display='none'">
  <h1>Aplikasi Karya Siswa SMK YAPPI Wonosari</h1>

  <ul class="menu" id="mainMenu">

    <!-- SPMB (no submenu) -->
    <li class="menu-item">
      <a class="menu-button" href="https://daftar.smkyappi-wns.sch.id" target="_blank" rel="noopener">
        <span class="left">
          <span class="icon">üßæ</span>
          <span>
            <span class="title">SPMB SMK YAPPI</span>
            <span class="subtitle">Penerimaan Siswa Baru</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚Üó</span>
      </a>
    </li>

    <!-- Generator RPP -->
    <li class="menu-item" id="rppItem">
      <button class="menu-button" aria-expanded="false" aria-controls="rppSub" onclick="toggleSubmenu('rppItem','rppSub')">
        <span class="left">
          <span class="icon">üìÑ</span>
          <span>
            <span class="title">Generator RPP</span>
            <span class="subtitle">Buat Rencana Pelaksanaan Pembelajaran</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="rppSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/rpp-generator/" target="_blank" rel="noopener">Live: Generator RPP</a></li>
          <li><a href="https://github.com/smkyappiwns/rpp-generator/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
          <li><a href="https://github.com/smkyappiwns/rpp-generator" target="_blank" rel="noopener">Kode Sumber (repo)</a></li>
        </ul>
      </div>
    </li>

    <!-- Generator Asesmen -->
    <li class="menu-item" id="asesmenItem">
      <button class="menu-button" aria-expanded="false" aria-controls="asesmenSub" onclick="toggleSubmenu('asesmenItem','asesmenSub')">
        <span class="left">
          <span class="icon">üìÑ</span>
          <span>
            <span class="title">Generator Asesmen</span>
            <span class="subtitle">Soal, Rubrik, Gambar/Referensi</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="asesmenSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/asesmen-generator/" target="_blank" rel="noopener">Live: Generator Asesmen</a></li>
          <li><a href="https://github.com/smkyappiwns/asesmen-generator/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
          <li><a href="https://github.com/smkyappiwns/asesmen-generator" target="_blank" rel="noopener">Kode Sumber (repo)</a></li>
        </ul>
      </div>
    </li>

    <!-- Sistem Penilaian -->
    <li class="menu-item" id="rekapItem">
      <button class="menu-button" aria-expanded="false" aria-controls="rekapSub" onclick="toggleSubmenu('rekapItem','rekapSub')">
        <span class="left">
          <span class="icon">üìä</span>
          <span>
            <span class="title">Sistem Penilaian</span>
            <span class="subtitle">Rekap Nilai & Analisis</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="rekapSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/rekap-nilai/" target="_blank" rel="noopener">Live: Rekap Nilai</a></li>
          <li><a href="https://github.com/smkyappiwns/rekap-nilai/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
        </ul>
      </div>
    </li>

    <!-- Presensi -->
    <li class="menu-item" id="presensiItem">
      <button class="menu-button" aria-expanded="false" aria-controls="presensiSub" onclick="toggleSubmenu('presensiItem','presensiSub')">
        <span class="left">
          <span class="icon">üìù</span>
          <span>
            <span class="title">Sistem Presensi</span>
            <span class="subtitle">Absensi siswa</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="presensiSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/presensi-siswa/" target="_blank" rel="noopener">Live: Presensi Siswa</a></li>
          <li><a href="https://github.com/smkyappiwns/presensi-siswa/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
        </ul>
      </div>
    </li>

    <!-- Jadwal Otomatis -->
    <li class="menu-item" id="jadwalItem">
      <button class="menu-button" aria-expanded="false" aria-controls="jadwalSub" onclick="toggleSubmenu('jadwalItem','jadwalSub')">
        <span class="left">
          <span class="icon">üìÖ</span>
          <span>
            <span class="title">Jadwal Otomatis</span>
            <span class="subtitle">Penjadwalan pelajaran</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="jadwalSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/jadwal-otomatis/" target="_blank" rel="noopener">Live: Jadwal Otomatis</a></li>
          <li><a href="https://github.com/smkyappiwns/jadwal-otomatis/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
        </ul>
      </div>
    </li>

    <!-- Sertifikat Maker -->
    <li class="menu-item" id="sertifikatItem">
      <button class="menu-button" aria-expanded="false" aria-controls="sertifikatSub" onclick="toggleSubmenu('sertifikatItem','sertifikatSub')">
        <span class="left">
          <span class="icon">üèÖ</span>
          <span>
            <span class="title">Sertifikat Maker</span>
            <span class="subtitle">Cetak sertifikat siswa</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="sertifikatSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/sertifikat-generator/" target="_blank" rel="noopener">Live: Sertifikat Maker</a></li>
          <li><a href="https://github.com/smkyappiwns/sertifikat-generator/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
        </ul>
      </div>
    </li>

    <!-- ID Card Maker -->
    <li class="menu-item" id="idcardItem">
      <button class="menu-button" aria-expanded="false" aria-controls="idcardSub" onclick="toggleSubmenu('idcardItem','idcardSub')">
        <span class="left">
          <span class="icon">üÜî</span>
          <span>
            <span class="title">Id Card Maker</span>
            <span class="subtitle">Kartu identitas siswa</span>
          </span>
        </span>
        <span class="chev" aria-hidden="true">‚ñ∂</span>
      </button>

      <div class="submenu" id="idcardSub" aria-hidden="true">
        <ul class="submenu-list">
          <li><a href="https://smkyappiwns.github.io/generator-idcard/" target="_blank" rel="noopener">Live: Id Card Maker</a></li>
          <li><a href="https://github.com/smkyappiwns/generator-idcard/blob/main/README.md" target="_blank" rel="noopener">README.md (GitHub)</a></li>
        </ul>
      </div>
    </li>

  </ul>

  <div class="footer">
    <strong>üíª Aplikasi Karya Siswa RPL</strong><br>
    SMK YAPPI Wonosari ‚Äî <a href="https://github.com/smkyappiwns" target="_blank" rel="noopener">Halaman Github</a>
  </div>
</div>

<script>
  // load theme
  if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark");
    document.querySelector('.theme-toggle').setAttribute('aria-pressed','true');
  }

  function toggleTheme() {
    document.body.classList.toggle("dark");
    const isDark = document.body.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
    document.querySelector('.theme-toggle').setAttribute('aria-pressed', isDark ? 'true' : 'false');
  }

  // Submenu toggle (click friendly; also supports closing others)
  function toggleSubmenu(itemId, subId) {
    const item = document.getElementById(itemId);
    const sub = document.getElementById(subId);
    const isOpen = item.classList.contains('open');

    // close all open submenus
    document.querySelectorAll('.menu-item.open').forEach(mi => {
      mi.classList.remove('open');
      const btn = mi.querySelector('.menu-button');
      const ctrl = btn.getAttribute('aria-controls');
      btn.setAttribute('aria-expanded', 'false');
      const subEl = document.getElementById(ctrl);
      if (subEl) {
        subEl.style.maxHeight = null;
        subEl.classList.remove('open');
        subEl.setAttribute('aria-hidden', 'true');
      }
    });

    if (!isOpen) {
      // open the clicked one
      item.classList.add('open');
      const btn = item.querySelector('.menu-button');
      btn.setAttribute('aria-expanded', 'true');
      sub.classList.add('open');
      sub.setAttribute('aria-hidden', 'false');

      // compute max-height for smooth expand
      const full = sub.scrollHeight;
      sub.style.maxHeight = full + 'px';
    } else {
      // already open -> close (handled by close-all above)
    }
  }

  // Allow submenu open on hover (desktop)
  let hoverTimer;
  document.querySelectorAll('.menu-item').forEach(mi => {
    mi.addEventListener('mouseenter', () => {
      // if touch device, don't open on hover
      if ('ontouchstart' in window) return;
      const btn = mi.querySelector('.menu-button');
      const ctrl = btn && btn.getAttribute('aria-controls');
      if (ctrl) {
        clearTimeout(hoverTimer);
        hoverTimer = setTimeout(() => {
          toggleSubmenu(mi.id || mi, ctrl);
        }, 120);
      }
    });
    mi.addEventListener('mouseleave', () => {
      if ('ontouchstart' in window) return;
      // auto-close after small delay
      if (mi.classList.contains('open')) {
        hoverTimer = setTimeout(() => {
          // close it
          document.querySelectorAll('.menu-item.open').forEach(openMi => {
            openMi.classList.remove('open');
            const btn = openMi.querySelector('.menu-button');
            const ctrl = btn.getAttribute('aria-controls');
            btn.setAttribute('aria-expanded', 'false');
            const subEl = document.getElementById(ctrl);
            if (subEl) {
              subEl.style.maxHeight = null;
              subEl.classList.remove('open');
              subEl.setAttribute('aria-hidden', 'true');
            }
          });
        }, 250);
      }
    });
  });

  // Close submenus when clicking outside
  document.addEventListener('click', function(e) {
    const isInside = e.target.closest('.menu-item');
    if (!isInside) {
      document.querySelectorAll('.menu-item.open').forEach(mi => {
        mi.classList.remove('open');
        const btn = mi.querySelector('.menu-button');
        const ctrl = btn.getAttribute('aria-controls');
        btn.setAttribute('aria-expanded', 'false');
        const subEl = document.getElementById(ctrl);
        if (subEl) {
          subEl.style.maxHeight = null;
          subEl.classList.remove('open');
          subEl.setAttribute('aria-hidden', 'true');
        }
      });
    }
  });

  // Improve keyboard accessibility: toggle with Enter/Space on focused menu-button
  document.querySelectorAll('.menu-button').forEach(btn => {
    btn.addEventListener('keydown', (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        const ctrl = btn.getAttribute('aria-controls');
        if (ctrl) {
          const parent = btn.closest('.menu-item');
          toggleSubmenu(parent.id, ctrl);
        } else {
          // it's a link-like button without submenu: do nothing
        }
      }
    });
  });
</script>

</body>
</html>
